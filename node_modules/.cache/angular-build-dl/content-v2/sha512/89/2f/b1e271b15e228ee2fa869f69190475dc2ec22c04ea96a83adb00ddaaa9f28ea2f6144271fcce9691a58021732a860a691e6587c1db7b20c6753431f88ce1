(self.webpackChunktcc=self.webpackChunktcc||[]).push([[656],{1656:function(r,o,i){"use strict";i.r(o),i.d(o,{OsModule:function(){return K}});var e=i(1116);class t{}var a=i(1462),n=i(7368),s=i(1279),u=i(5522),l=i(1423),m=i(611),c=i(529),p=i(2693);let g=(()=>{class r{constructor(r){this.http=r,this.API=`${c.N.API}os`}list(){return this.http.get(this.API).pipe((0,m.q)(1))}busca(r){return this.http.get(`${this.API}/busca/${r}`).pipe((0,m.q)(1))}salvarOs(r){return this.http.post(this.API,JSON.stringify(r),{headers:(new p.WM).set("Content-Type","application/json"),responseType:"text"}).pipe((0,m.q)(1))}getOs(r){return this.http.get(`${this.API}/${r}`).pipe((0,m.q)(1))}}return r.\u0275fac=function(o){return new(o||r)(n.LFG(p.eN))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function d(r,o){if(1&r&&(n.TgZ(0,"option",16),n._uU(1),n.qZA()),2&r){const r=o.$implicit;n.Q6J("ngValue",r),n.xp6(1),n.Oqu(r.sigla)}}function f(r,o){if(1&r&&(n.TgZ(0,"option"),n._uU(1),n.qZA()),2&r){const r=o.$implicit;n.xp6(1),n.Oqu(r)}}const Z=function(r){return{"is-invalid":r}};function h(r,o){if(1&r){const r=n.EpF();n.TgZ(0,"form",3),n.NdJ("ngSubmit",function(){return n.CHM(r),n.oxw().onSubmit()}),n.TgZ(1,"legend"),n._uU(2,"Gerar nova OS"),n.qZA(),n.TgZ(3,"div",4),n.TgZ(4,"label",5),n._uU(5,"Maquina:"),n.qZA(),n.TgZ(6,"div",6),n.TgZ(7,"select",7),n.YNc(8,d,2,2,"option",8),n.qZA(),n.TgZ(9,"div",9),n._uU(10,"Selecione a Maquina"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(11,"div",4),n.TgZ(12,"label",10),n._uU(13,"Problema:"),n.qZA(),n.TgZ(14,"div",6),n._UZ(15,"textarea",11),n.TgZ(16,"div",9),n._uU(17,"Descreva o problema da maquina "),n.qZA(),n.qZA(),n.qZA(),n.TgZ(18,"div",4),n.TgZ(19,"label",12),n._uU(20,"Oficina:"),n.qZA(),n.TgZ(21,"div",6),n.TgZ(22,"select",13),n.YNc(23,f,2,1,"option",14),n.qZA(),n.qZA(),n.qZA(),n.TgZ(24,"button",15),n._uU(25,"Salvar"),n.qZA(),n.qZA()}if(2&r){const r=o.ngIf,i=n.oxw();n.Q6J("formGroup",i.formulario),n.xp6(7),n.Q6J("ngClass",n.VKq(5,Z,i.submitted&&i.hasError("maquina"))),n.xp6(1),n.Q6J("ngForOf",r),n.xp6(7),n.Q6J("ngClass",n.VKq(7,Z,i.submitted&&i.hasError("problema"))),n.xp6(8),n.Q6J("ngForOf",i.oficina)}}function q(r,o){1&r&&(n.TgZ(0,"div",17),n.TgZ(1,"span",18),n._uU(2,"Loading..."),n.qZA(),n.qZA())}let v=(()=>{class r{constructor(r,o,i,e,t,a){this.formBuilder=r,this.route=o,this.router=i,this.funcionarioService=e,this.maquinaService=t,this.osService=a,this.submitted=!1,this.oficina=["","Eletrica","Mecanica"]}ngOnInit(){this.maquina$=this.maquinaService.list().pipe(),this.formulario=this.formBuilder.group({problema:[null,[a.kI.required,a.kI.minLength(3),a.kI.maxLength(250)]],maquina:[null,a.kI.required],oficina:[null,a.kI.required]})}onSubmit(){if(this.submitted=!0,this.formulario.valid){let r=new t;r.maquina=this.formulario.value.maquina,r.problema=this.formulario.value.problema,r.oficina=this.formulario.value.oficina,r.statusOs="A",this.osService.salvarOs(r).subscribe(r=>{this.formulario.reset(),this.router.navigate(["os"])},r=>{})}}hasError(r){var o;return null===(o=this.formulario.get(r))||void 0===o?void 0:o.errors}}return r.\u0275fac=function(o){return new(o||r)(n.Y36(a.qu),n.Y36(s.gz),n.Y36(s.F0),n.Y36(u.w),n.Y36(l.P),n.Y36(g))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-os-cadastrar"]],decls:5,vars:4,consts:[[1,"container",2,"padding-top","10px","width","60%"],[3,"formGroup","ngSubmit",4,"ngIf","ngIfElse"],["loading",""],[3,"formGroup","ngSubmit"],[1,"row","md-6"],["for","maquina",1,"col-sm-3","col-form-label"],[1,"col-sm-9"],["id","maquina","formControlName","maquina",1,"form-control",2,"margin","5px",3,"ngClass"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"invalid-feedback"],["for","problema",1,"col-sm-3","col-form-label"],["type","text","placeholder","Descreva o problema da maquina","formControlName","problema",1,"form-control",2,"margin","5px",3,"ngClass"],["for","oficia",1,"col-sm-3","col-form-label"],["id","oficina","formControlName","oficina",1,"form-control",2,"margin","5px"],[4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-primary"],[3,"ngValue"],["role","status",1,"spinner-border"],[1,"sr-only"]],template:function(r,o){if(1&r&&(n.TgZ(0,"div",0),n.YNc(1,h,26,9,"form",1),n.ALo(2,"async"),n.qZA(),n.YNc(3,q,3,0,"ng-template",null,2,n.W1O)),2&r){const r=n.MAs(4);n.xp6(1),n.Q6J("ngIf",n.lcZ(2,2,o.maquina$))("ngIfElse",r)}},directives:[e.O5,a._Y,a.JL,a.sg,a.EJ,a.JJ,a.u,e.mk,e.sg,a.Fj,a.YN,a.Kr],pipes:[e.Ov],styles:[""]}),r})();var b=i(9996),A=i(7701),T=i(8720),_=i(6599),U=i(7727),x=i(653),I=i(3193),y=i(1483),O=i(9479);function E(r,o){if(1&r&&(n.TgZ(0,"td"),n._uU(1,"\n            "),n.TgZ(2,"span",11),n._uU(3,"\n              "),n.TgZ(4,"button",12),n._uU(5,"\n                Finalizar\n              "),n.qZA(),n._uU(6,"\n            "),n.qZA(),n._uU(7,"\n          "),n.qZA()),2&r){const r=n.oxw().$implicit;n.xp6(4),n.Q6J("routerLink","finalizar/"+r.id)}}function C(r,o){if(1&r&&(n.TgZ(0,"tr"),n._uU(1,"\n          "),n.TgZ(2,"td"),n._uU(3),n.qZA(),n._uU(4,"\n          "),n.TgZ(5,"td"),n._uU(6),n.qZA(),n._uU(7,"\n          "),n.TgZ(8,"td"),n._uU(9),n.qZA(),n._uU(10,"\n          "),n.TgZ(11,"td"),n._uU(12),n.qZA(),n._uU(13,"\n          "),n.TgZ(14,"td"),n._uU(15),n.qZA(),n._uU(16,"\n          "),n.YNc(17,E,8,1,"td",10),n._uU(18,"\n        "),n.qZA()),2&r){const r=o.$implicit,i=n.oxw(2);n.xp6(3),n.Oqu(r.id),n.xp6(3),n.Oqu(r.maquina.sigla),n.xp6(3),n.Oqu(r.oficina),n.xp6(3),n.Oqu(r.statusOs),n.xp6(3),n.Oqu(r.problema),n.xp6(2),n.Q6J("ngIf",i.permissao>1)}}function J(r,o){if(1&r&&(n.TgZ(0,"table",8),n._uU(1,"\n      "),n.TgZ(2,"thead"),n._uU(3,"\n        "),n.TgZ(4,"tr"),n._uU(5,"\n          "),n.TgZ(6,"th"),n._uU(7,"Os"),n.qZA(),n._uU(8,"\n          "),n.TgZ(9,"th"),n._uU(10,"Sigla"),n.qZA(),n._uU(11,"\n          "),n.TgZ(12,"th"),n._uU(13,"Oficina"),n.qZA(),n._uU(14,"\n          "),n.TgZ(15,"th"),n._uU(16,"Status"),n.qZA(),n._uU(17,"\n          "),n.TgZ(18,"th"),n._uU(19,"Problema"),n.qZA(),n._uU(20,"\n          "),n._UZ(21,"th"),n._uU(22,"\n        "),n.qZA(),n._uU(23,"\n      "),n.qZA(),n._uU(24,"\n      "),n.TgZ(25,"tbody"),n._uU(26,"\n        "),n.YNc(27,C,19,6,"tr",9),n._uU(28,"\n      "),n.qZA(),n._uU(29,"\n    "),n.qZA()),2&r){const r=o.ngIf;n.xp6(27),n.Q6J("ngForOf",r)}}function S(r,o){1&r&&(n._uU(0,"\n  "),n.TgZ(1,"div",13),n._uU(2,"\n    "),n.TgZ(3,"span",14),n._uU(4,"Loading..."),n.qZA(),n._uU(5,"\n  "),n.qZA(),n._uU(6,"\n"))}let N=(()=>{class r{constructor(r,o,i){this.osService=r,this.modalService=o,this.authService=i,this.permissao=0,this.queryField=new a.NI}ngOnInit(){this.permissao=this.authService.usuario.permissao,this.onRefresh(),this.queryField.valueChanges.pipe((0,b.U)(r=>r.trim()),(0,A.b)(300),(0,T.x)(),(0,_.b)(r=>this.consulta(r))).subscribe()}consulta(r){r.length>0?this.os$=this.osService.busca(r).pipe((0,U.K)(r=>(this.handleError("Erro ao carregar"),(0,x.c)()))):this.onRefresh()}onRefresh(){this.os$=this.osService.list().pipe((0,U.K)(r=>(this.handleError("Erro ao carregar"),(0,x.c)())))}buscar(){var r;(null===(r=this.queryField.value)||void 0===r?void 0:r.length)>1&&(this.os$=this.osService.busca(this.queryField.value).pipe((0,U.K)(r=>(this.handleError("Erro ao carregar"),(0,x.c)()))))}handleError(r){this.bsModalRef=this.modalService.show(I.F),this.bsModalRef.content.type="danger",this.bsModalRef.content.message=r}}return r.\u0275fac=function(o){return new(o||r)(n.Y36(g),n.Y36(y.tT),n.Y36(O.e))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-os"]],decls:29,vars:6,consts:[[1,"container"],[1,"navbar","navbar-light","bg-light"],[1,"form-inline"],["type","search","placeholder","Busca os/sigla","aria-label","Search",1,"form-control","mr-sm-2",3,"formControl"],[1,"btn","btn-outline-success","my-2","my-sm-0",3,"click"],[1,"btn","btn-outline-success","my-2","my-sm-0",3,"routerLink"],["class","table table-hover",4,"ngIf","ngIfElse"],["loading",""],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"float-end"],[1,"btn","btn-outline-warning","mb-1","btn-sm",3,"routerLink"],["role","status",1,"spinner-border"],[1,"sr-only"]],template:function(r,o){if(1&r&&(n.TgZ(0,"div",0),n._uU(1,"\n  "),n.TgZ(2,"legend"),n._uU(3,"Ordem de Servi\xe7o"),n.qZA(),n._UZ(4,"br"),n._uU(5,"\n  "),n.TgZ(6,"nav",1),n._uU(7,"\n    "),n.TgZ(8,"div",2),n._uU(9,"\n      "),n._UZ(10,"input",3),n._uU(11,"\n\n      "),n.TgZ(12,"button",4),n.NdJ("click",function(){return o.buscar()}),n._uU(13,"Procurar"),n.qZA(),n._uU(14,"\n      "),n.TgZ(15,"button",5),n._uU(16,"\n        Novo\n      "),n.qZA(),n._uU(17,"\n    "),n.qZA(),n._uU(18,"\n  "),n.qZA(),n._uU(19,"\n\n  "),n.TgZ(20,"div",0),n._uU(21,"\n    "),n.YNc(22,J,30,1,"table",6),n.ALo(23,"async"),n._uU(24,"\n  "),n.qZA(),n._uU(25,"\n\n"),n.qZA(),n._uU(26,"\n\n\n\n"),n.YNc(27,S,7,0,"ng-template",null,7,n.W1O)),2&r){const r=n.MAs(28);n.xp6(10),n.Q6J("formControl",o.queryField),n.xp6(5),n.Q6J("routerLink","cadastrar"),n.xp6(7),n.Q6J("ngIf",n.lcZ(23,4,o.os$))("ngIfElse",r)}},directives:[a.Fj,a.JJ,a.oH,s.rH,e.O5,e.sg],pipes:[e.Ov],styles:[""]}),r})();function k(r,o){if(1&r&&(n.TgZ(0,"option",33),n._uU(1),n.qZA()),2&r){const r=o.$implicit;n.Q6J("ngValue",r),n.xp6(1),n.AsE(" ",r.matricula," - ",r.pessoa.nome," ")}}const Y=function(r){return{"is-invalid":r}};function R(r,o){if(1&r){const r=n.EpF();n.TgZ(0,"form",4),n.NdJ("ngSubmit",function(){return n.CHM(r),n.oxw(2).onSubmit()}),n.TgZ(1,"div",5),n.TgZ(2,"div",6),n.TgZ(3,"label",7),n._uU(4,"OS:"),n.qZA(),n._UZ(5,"input",8),n.qZA(),n.TgZ(6,"div",9),n.TgZ(7,"label",10),n._uU(8,"Maquina:"),n.qZA(),n._UZ(9,"input",11),n.qZA(),n.qZA(),n.TgZ(10,"div",5),n.TgZ(11,"div",12),n.TgZ(12,"label",13),n._uU(13,"Problema:"),n.qZA(),n._UZ(14,"textarea",14),n.TgZ(15,"div",15),n._uU(16,"Descreva o problema da maquina "),n.qZA(),n.qZA(),n.qZA(),n.TgZ(17,"div",5),n.TgZ(18,"div",16),n.TgZ(19,"label",17),n._uU(20,"Defeito:"),n.qZA(),n._UZ(21,"input",18),n.TgZ(22,"div",15),n._uU(23,"Descreva o Defeito da maquina "),n.qZA(),n.qZA(),n.TgZ(24,"div",19),n.TgZ(25,"label",17),n._uU(26,"Responsavel:"),n.qZA(),n.TgZ(27,"select",20),n.YNc(28,k,2,3,"option",21),n.qZA(),n.TgZ(29,"div",15),n._uU(30,"Seleciona um responsavel "),n.qZA(),n.qZA(),n.qZA(),n.TgZ(31,"div",5),n.TgZ(32,"div",12),n.TgZ(33,"label",22),n._uU(34,"Reparo:"),n.qZA(),n._UZ(35,"textarea",23),n.TgZ(36,"div",15),n._uU(37,"Descreva o reparo da maquina "),n.qZA(),n.qZA(),n.qZA(),n.TgZ(38,"div",5),n.TgZ(39,"div",24),n.TgZ(40,"label",25),n._uU(41,"Inicio Reparo:"),n.qZA(),n._UZ(42,"input",26),n.TgZ(43,"div",15),n._uU(44,"Entre com a data inicio "),n.qZA(),n._UZ(45,"input",27),n.TgZ(46,"div",15),n._uU(47,"Entre com a data inicio "),n.qZA(),n.qZA(),n.TgZ(48,"div",24),n.TgZ(49,"label",25),n._uU(50,"Fim Reparo:"),n.qZA(),n._UZ(51,"input",28),n.TgZ(52,"div",15),n._uU(53,"Entre com a data final "),n.qZA(),n._UZ(54,"input",29),n.TgZ(55,"div",15),n._uU(56,"Entre com a data final "),n.qZA(),n.qZA(),n.qZA(),n.TgZ(57,"div",30),n.TgZ(58,"div",31),n.TgZ(59,"button",32),n._uU(60,"Finalizar"),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&r){const r=o.ngIf,i=n.oxw(2);n.Q6J("formGroup",i.formulario),n.xp6(14),n.Q6J("ngClass",n.VKq(11,Y,i.submitted&&i.hasError("problema"))),n.xp6(7),n.Q6J("ngClass",n.VKq(13,Y,i.submitted&&i.hasError("defeito"))),n.xp6(6),n.Q6J("compareWith",i.comparar)("ngClass",n.VKq(15,Y,i.submitted&&i.hasError("funcionario"))),n.xp6(1),n.Q6J("ngForOf",r),n.xp6(7),n.Q6J("ngClass",n.VKq(17,Y,i.submitted&&i.hasError("reparo"))),n.xp6(7),n.Q6J("ngClass",n.VKq(19,Y,i.submitted&&i.hasError("iniReparoDate"))),n.xp6(3),n.Q6J("ngClass",n.VKq(21,Y,i.submitted&&i.hasError("iniReparoTime"))),n.xp6(6),n.Q6J("ngClass",n.VKq(23,Y,i.submitted&&i.hasError("fimReparoDate"))),n.xp6(3),n.Q6J("ngClass",n.VKq(25,Y,i.submitted&&i.hasError("fimReparoTime")))}}function F(r,o){if(1&r&&(n.TgZ(0,"div",2),n.TgZ(1,"legend"),n._uU(2,"Finalizar Os"),n.qZA(),n._UZ(3,"br"),n.YNc(4,R,61,27,"form",3),n.ALo(5,"async"),n.qZA()),2&r){const r=n.oxw(),o=n.MAs(2);n.xp6(4),n.Q6J("ngIf",n.lcZ(5,2,r.funcionarios$))("ngIfElse",o)}}function w(r,o){1&r&&(n.TgZ(0,"div",34),n.TgZ(1,"span",35),n._uU(2,"Loading..."),n.qZA(),n.qZA())}let Q=(()=>{class r{constructor(r,o,i,e,t,a){this.osService=r,this.funcionarioService=o,this.modalService=i,this.formBuilder=e,this.route=t,this.router=a,this.submitted=!1,this.inscricao=this.route.params.subscribe(r=>{this.os$=this.osService.getOs(r.id).pipe((0,U.K)(r=>(this.handleError("Erro ao carregar"),this.router.navigate(["os"]),(0,x.c)())))})}ngOnInit(){this.formulario=this.formBuilder.group({problema:[null,[a.kI.required,a.kI.minLength(3),a.kI.maxLength(250)]],id:[null,a.kI.required],sigla:[null,a.kI.required],defeito:[null,a.kI.required],funcionario:[null,a.kI.required],reparo:[null,a.kI.required],iniReparoDate:[null,a.kI.required],iniReparoTime:[null,a.kI.required],fimReparoTime:[null,a.kI.required],fimReparoDate:[null,a.kI.required]}),this.os$.subscribe(r=>{this.os=r,r&&this.povoar()}),this.funcionarios$=this.funcionarioService.list()}onSubmit(){if(this.submitted=!0,this.formulario.valid){let r,o;r=this.formulario.value.iniReparoDate+" "+this.formulario.value.iniReparoTime,o=this.formulario.value.fimReparoDate+" "+this.formulario.value.fimReparoTime,this.os.defeito=this.formulario.value.defeito,this.os.manutentor=this.formulario.value.funcionario,this.os.problema=this.formulario.value.problema,this.os.reparo=this.formulario.value.reparo,this.os.dataIniManutencao=r,this.os.dataFimManutencao=o,this.os.statusOs="C",this.osService.salvarOs(this.os).subscribe(r=>{this.formulario.reset(),this.router.navigate(["os"])},r=>{this.handleError("Erro ao salvar Os")})}}comparar(r,o){return r&&o?r.matricula===o.matricula:r===o}povoar(){var r,o,i;null===(r=this.formulario.get("id"))||void 0===r||r.setValue(this.os.id),null===(o=this.formulario.get("sigla"))||void 0===o||o.setValue(this.os.maquina.sigla),null===(i=this.formulario.get("problema"))||void 0===i||i.setValue(this.os.problema)}handleError(r){this.bsModalRef=this.modalService.show(I.F),this.bsModalRef.content.type="danger",this.bsModalRef.content.message=r}hasError(r){var o;return null===(o=this.formulario.get(r))||void 0===o?void 0:o.errors}}return r.\u0275fac=function(o){return new(o||r)(n.Y36(g),n.Y36(u.w),n.Y36(y.tT),n.Y36(a.qu),n.Y36(s.gz),n.Y36(s.F0))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-os-finalizar"]],decls:3,vars:2,consts:[["class","container",4,"ngIf","ngIfElse"],["loading",""],[1,"container"],[3,"formGroup","ngSubmit",4,"ngIf","ngIfElse"],[3,"formGroup","ngSubmit"],[1,"form-row"],[1,"form-group","col-md-3"],["for","osNumero"],["type","text","readonly","","formControlName","id","id","osNumero",1,"form-control"],[1,"form-group","col-md-6"],["for","maquina"],["type","text","readonly","","formControlName","sigla","id","maquina",1,"form-control"],[1,"form-group","col-md-9"],["for","problema"],["type","text","id","problema","placeholder","Descreva o problema da maquina","formControlName","problema",1,"form-control",2,"margin","5px",3,"ngClass"],[1,"invalid-feedback"],[1,"form-group","col-md-5"],["for","defeito"],["type","text","formControlName","defeito","id","defeito",1,"form-control",3,"ngClass"],[1,"col-sm-4"],["id","funcionario","formControlName","funcionario",1,"form-control",2,"margin","5px",3,"compareWith","ngClass"],[3,"ngValue",4,"ngFor","ngForOf"],["for","reparo"],["type","text","id","reparo","placeholder","Descreva o reparo da maquina","formControlName","reparo",1,"form-control",2,"margin","5px",3,"ngClass"],[1,"form-group","col-md-2"],["for","iniReparo"],["type","date","formControlName","iniReparoDate","id","iniReparo",1,"form-control",3,"ngClass"],["type","time","formControlName","iniReparoTime","id","iniReparo",1,"form-control",3,"ngClass"],["type","date","formControlName","fimReparoDate","id","iniReparo",1,"form-control",3,"ngClass"],["type","time","formControlName","fimReparoTime","id","iniReparo",1,"form-control",3,"ngClass"],[1,"form-group","row"],[1,"col-sm-9"],["type","submit",1,"btn","btn-primary"],[3,"ngValue"],["role","status",1,"spinner-border"],[1,"sr-only"]],template:function(r,o){if(1&r&&(n.YNc(0,F,6,4,"div",0),n.YNc(1,w,3,0,"ng-template",null,1,n.W1O)),2&r){const r=n.MAs(2);n.Q6J("ngIf",o.os$)("ngIfElse",r)}},directives:[e.O5,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,e.mk,a.EJ,e.sg,a.YN,a.Kr],pipes:[e.Ov],styles:[""]}),r})();const M=function(r){return{"is-invalid":r}};function $(r,o){if(1&r&&(n.TgZ(0,"div",2),n.TgZ(1,"legend"),n._uU(2,"Atualizar Os"),n.qZA(),n._UZ(3,"br"),n.TgZ(4,"form",3),n.TgZ(5,"div",4),n.TgZ(6,"div",5),n.TgZ(7,"label",6),n._uU(8,"OS:"),n.qZA(),n._UZ(9,"input",7),n.qZA(),n.TgZ(10,"div",8),n.TgZ(11,"label",9),n._uU(12,"Maquina:"),n.qZA(),n._UZ(13,"input",10),n.qZA(),n.qZA(),n.TgZ(14,"div",4),n.TgZ(15,"div",11),n.TgZ(16,"label",12),n._uU(17,"Problema:"),n.qZA(),n._UZ(18,"textarea",13),n.TgZ(19,"div",14),n._uU(20,"Descreva o problema da maquina "),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&r){const r=n.oxw();n.xp6(4),n.Q6J("formGroup",r.formulario),n.xp6(14),n.Q6J("ngClass",n.VKq(2,M,r.submitted&&r.hasError("problema")))}}function V(r,o){1&r&&(n.TgZ(0,"div",15),n.TgZ(1,"span",16),n._uU(2,"Loading..."),n.qZA(),n.qZA())}const L=[{path:"",component:N},{path:"cadastrar",component:v},{path:"atualizar/:id",component:(()=>{class r{constructor(r,o,i,e,t){this.osService=r,this.modalService=o,this.formBuilder=i,this.route=e,this.router=t,this.submitted=!1,this.inscricao=this.route.params.subscribe(r=>{this.os$=this.osService.getOs(r.id).pipe((0,U.K)(r=>(this.handleError(),this.router.navigate(["os"]),(0,x.c)())))})}ngOnInit(){this.formulario=this.formBuilder.group({problema:[null,[a.kI.required,a.kI.minLength(3),a.kI.maxLength(250)]],id:[null,a.kI.required],sigla:[null,a.kI.required],oficina:[null,a.kI.required]}),this.os$.subscribe(r=>{this.os=r,r&&this.povoar()}),console.log(this.os)}povoar(){var r,o,i;null===(r=this.formulario.get("id"))||void 0===r||r.setValue(this.os.id),null===(o=this.formulario.get("sigla"))||void 0===o||o.setValue(this.os.maquina.sigla),null===(i=this.formulario.get("problema"))||void 0===i||i.setValue(this.os.problema)}handleError(){this.bsModalRef=this.modalService.show(I.F),this.bsModalRef.content.type="danger",this.bsModalRef.content.message="Erro ao carregar"}hasError(r){var o;return null===(o=this.formulario.get(r))||void 0===o?void 0:o.errors}}return r.\u0275fac=function(o){return new(o||r)(n.Y36(g),n.Y36(y.tT),n.Y36(a.qu),n.Y36(s.gz),n.Y36(s.F0))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-os-atualizar"]],decls:3,vars:2,consts:[["class","container",4,"ngIf","ngIfElse"],["loading",""],[1,"container"],[3,"formGroup"],[1,"form-row"],[1,"form-group","col-md-3"],["for","osNumero"],["type","text","readonly","","formControlName","id","id","osNumero",1,"form-control"],[1,"form-group","col-md-6"],["for","maquina"],["type","text","readonly","","formControlName","sigla","id","maquina",1,"form-control"],[1,"form-group","col-md-9"],["for","problema"],["type","text","id","problema","placeholder","Descreva o problema da maquina","formControlName","problema",1,"form-control",2,"margin","5px",3,"ngClass"],[1,"invalid-feedback"],["role","status",1,"spinner-border"],[1,"sr-only"]],template:function(r,o){if(1&r&&(n.YNc(0,$,21,4,"div",0),n.YNc(1,V,3,0,"ng-template",null,1,n.W1O)),2&r){const r=n.MAs(2);n.Q6J("ngIf",o.os$)("ngIfElse",r)}},directives:[e.O5,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,e.mk],styles:[""]}),r})()},{path:"finalizar/:id",component:Q}];let D=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[[s.Bz.forChild(L)],s.Bz]}),r})(),K=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[[e.ez,D,a.u5,a.UX]]}),r})()}}]);