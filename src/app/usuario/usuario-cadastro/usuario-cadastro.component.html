<form [formGroup]="formulario" (ngSubmit)="onSubmit()"  *ngIf="(funcionarios$ | async) as funcionario; else loading" style="padding: 10px;">

  <div class="form-group row">
    <label for="funcao" class="col-sm-3 col-form-label">Funcionario:</label>
    <div class="col-sm-9">
      <select style="margin: 5px;" id="funcionario" class="form-control" formControlName="funcionario">
        <option *ngFor="let f of funcionario" [ngValue]="f">{{f.matricula}} - {{ f.pessoa.nome}}</option>
      </select>
    </div>
  </div>

  <div class="form-group row">
    <label for="funcao" class="col-sm-3 col-form-label">Tipo Acesso:</label>
    <div class="col-sm-9">
      <select style="margin: 5px;" id="permissao" class="form-control" formControlName="permissao">
        <option value=1>Usuario</option>
        <option value=2>Manutentor</option>
        <option value=3>Administrador</option>
      </select>
    </div>
  </div>

  <div class="form-group row">
    <label for="loginNovo" class="col-sm-3 col-form-label">Login:</label>
    <div class="col-sm-9">
      <input type="text" class="form-control" placeholder="Digite um login" formControlName="login" id="loginNovo">
    </div>
  </div>

  <div class="form-group row">
    <label for="senhaNova" class="col-sm-3 col-form-label">Senha:</label>
    <div class="col-sm-9">
      <input type="password" placeholder="Digite uma senha" class="form-control" formControlName="senha" id="senhaNova">
    </div>
  </div>

  <div class="form-group row">
    <div class="col-sm-9">
      <button type="submit" class="btn btn-primary">Salvar</button>
    </div>
  </div>
</form>


<ng-template #loading>
  <div class="spinner-border" role="status">
    <span class="sr-only">Loading...</span>
  </div>
</ng-template>